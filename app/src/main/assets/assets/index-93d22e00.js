import{l as j,O as Ee,G as re,C as K,a0 as $e,a1 as qe,a2 as He,d as w,f as Z,j as ee,z as We,x as A,J as te,g as ce,a3 as _e,a4 as Ve,u as Fe,p as de,B as ae,n as Se,a5 as Be,y as F,a6 as Ue,a7 as ze,E as Ce,D as ke,a8 as Ye,a9 as pe,aa as Xe,ab as Ke,ac as Ge,q as Je,ad as Qe,ae as Ze,V as et,k as tt,U as ve,af as nt,M as ot,K as rt}from"./index-f76ea637.js";import{o as at,a as it,p as st,b as ct,P as Re,f as lt,g as ft,U as ut}from"./index-d1477609.js";const dt=(e,t)=>{const n=j(),o=()=>{n.value=He(e).height};return Ee(()=>{if(re(o),t)for(let r=1;r<=3;r++)setTimeout(o,100*r)}),at(()=>re(o)),K([$e,qe],o),n};function pt(e,t){const n=dt(e,!0);return o=>w("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[o()])}const[Pe,me]=Z("action-bar"),De=Symbol(Pe),vt={placeholder:Boolean,safeAreaInsetBottom:A};var mt=ee({name:Pe,props:vt,setup(e,{slots:t}){const n=j(),o=pt(n,me),{linkChildren:r}=We(De);r();const a=()=>{var l;return w("div",{ref:n,class:[me(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=t.default)==null?void 0:l.call(t)])};return()=>e.placeholder?o(a):a()}});const ht=te(mt),[gt,wt]=Z("action-bar-button"),yt=ce({},_e,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var bt=ee({name:gt,props:yt,setup(e,{slots:t}){const n=Ve(),{parent:o,index:r}=Fe(De),a=de(()=>{if(o){const i=o.children[r.value-1];return!(i&&"isButton"in i)}}),l=de(()=>{if(o){const i=o.children[r.value+1];return!(i&&"isButton"in i)}});return it({isButton:!0}),()=>{const{type:i,icon:s,text:d,color:c,loading:m,disabled:x}=e;return w(ae,{class:wt([i,{last:l.value,first:a.value}]),size:"large",type:i,icon:s,color:c,loading:m,disabled:x,onClick:n},{default:()=>[t.default?t.default():d]})}}});const he=te(bt),Ot=(e,t)=>{const n=j(e());return K(e,o=>{o!==n.value&&(n.value=o)}),K(n,o=>{o!==e()&&t(o)}),n},[xt,S,z]=Z("dialog"),Et=ce({},st,{title:String,theme:String,width:Se,message:[String,Function],callback:Function,allowHtml:Boolean,className:Be,transition:F("van-dialog-bounce"),messageAlign:String,closeOnPopstate:A,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:A,closeOnClickOverlay:Boolean,keyboardEnabled:A,destroyOnClose:Boolean}),St=[...ct,"transition","closeOnPopstate","destroyOnClose"];var Bt=ee({name:xt,props:Et,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=j(),r=Ue({confirm:!1,cancel:!1}),a=u=>t("update:show",u),l=u=>{var f;a(!1),(f=e.callback)==null||f.call(e,u)},i=u=>()=>{e.show&&(t(u),e.beforeClose?(r[u]=!0,lt(e.beforeClose,{args:[u],done(){l(u),r[u]=!1},canceled(){r[u]=!1}})):l(u))},s=i("cancel"),d=i("confirm"),c=ze(u=>{var f,p;if(!e.keyboardEnabled||u.target!==((p=(f=o.value)==null?void 0:f.popupRef)==null?void 0:p.value))return;({Enter:e.showConfirmButton?d:pe,Escape:e.showCancelButton?s:pe})[u.key](),t("keydown",u)},["enter","esc"]),m=()=>{const u=n.title?n.title():e.title;if(u)return w("div",{class:S("header",{isolated:!e.message&&!n.default})},[u])},x=u=>{const{message:f,allowHtml:p,messageAlign:y}=e,g=S("message",{"has-title":u,[y]:y}),v=Xe(f)?f():f;return p&&typeof v=="string"?w("div",{class:g,innerHTML:v},null):w("div",{class:g},[v])},h=()=>{if(n.default)return w("div",{class:S("content")},[n.default()]);const{title:u,message:f,allowHtml:p}=e;if(f){const y=!!(u||n.title);return w("div",{key:p?1:0,class:S("content",{isolated:!y})},[x(y)])}},D=()=>w("div",{class:[Ge,S("footer")]},[e.showCancelButton&&w(ae,{size:"large",text:e.cancelButtonText||z("cancel"),class:S("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:s},null),e.showConfirmButton&&w(ae,{size:"large",text:e.confirmButtonText||z("confirm"),class:[S("confirm"),{[Ke]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]),O=()=>w(ht,{class:S("footer")},{default:()=>[e.showCancelButton&&w(he,{type:"warning",text:e.cancelButtonText||z("cancel"),class:S("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:s},null),e.showConfirmButton&&w(he,{type:"danger",text:e.confirmButtonText||z("confirm"),class:S("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}),b=()=>n.footer?n.footer():e.theme==="round-button"?O():D();return()=>{const{width:u,title:f,theme:p,message:y,className:g}=e;return w(Re,Ce({ref:o,role:"dialog",class:[S([p]),g],style:{width:Ye(u)},tabindex:0,"aria-labelledby":f||y,onKeydown:c,"onUpdate:show":a},ke(e,St)),{default:()=>[m(),h(),b()]})}}});const Cn=te(Bt);function C(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function le(e){var t=C(e).Element;return e instanceof t||e instanceof Element}function B(e){var t=C(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Te(e){if(typeof ShadowRoot>"u")return!1;var t=C(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var H=Math.round;function ie(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ct(){return!/^((?!chrome|android).)*safari/i.test(ie())}function G(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,a=1;t&&B(e)&&(r=e.offsetWidth>0&&H(o.width)/e.offsetWidth||1,a=e.offsetHeight>0&&H(o.height)/e.offsetHeight||1);var l=le(e)?C(e):window,i=l.visualViewport,s=!Ct()&&n,d=(o.left+(s&&i?i.offsetLeft:0))/r,c=(o.top+(s&&i?i.offsetTop:0))/a,m=o.width/r,x=o.height/a;return{width:m,height:x,top:c,right:d+m,bottom:c+x,left:d,x:d,y:c}}function Ae(e){var t=C(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function kt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Rt(e){return e===C(e)||!B(e)?Ae(e):kt(e)}function R(e){return e?(e.nodeName||"").toLowerCase():null}function ne(e){return((le(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pt(e){return G(ne(e)).left+Ae(e).scrollLeft}function P(e){return C(e).getComputedStyle(e)}function fe(e){var t=P(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Dt(e){var t=e.getBoundingClientRect(),n=H(t.width)/e.offsetWidth||1,o=H(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Tt(e,t,n){n===void 0&&(n=!1);var o=B(t),r=B(t)&&Dt(t),a=ne(t),l=G(e,r,n),i={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&((R(t)!=="body"||fe(a))&&(i=Rt(t)),B(t)?(s=G(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Pt(a))),{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function At(e){var t=G(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function ue(e){return R(e)==="html"?e:e.assignedSlot||e.parentNode||(Te(e)?e.host:null)||ne(e)}function Le(e){return["html","body","#document"].indexOf(R(e))>=0?e.ownerDocument.body:B(e)&&fe(e)?e:Le(ue(e))}function X(e,t){var n;t===void 0&&(t=[]);var o=Le(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),a=C(o),l=r?[a].concat(a.visualViewport||[],fe(o)?o:[]):o,i=t.concat(l);return r?i:i.concat(X(ue(l)))}function Lt(e){return["table","td","th"].indexOf(R(e))>=0}function ge(e){return!B(e)||P(e).position==="fixed"?null:e.offsetParent}function It(e){var t=/firefox/i.test(ie()),n=/Trident/i.test(ie());if(n&&B(e)){var o=P(e);if(o.position==="fixed")return null}var r=ue(e);for(Te(r)&&(r=r.host);B(r)&&["html","body"].indexOf(R(r))<0;){var a=P(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Ie(e){for(var t=C(e),n=ge(e);n&&Lt(n)&&P(n).position==="static";)n=ge(n);return n&&(R(n)==="html"||R(n)==="body"&&P(n).position==="static")?t:n||It(e)||t}var q="top",J="bottom",U="right",N="left",Me="auto",Mt=[q,J,U,N],je="start",Q="end",jt=[].concat(Mt,[Me]).reduce(function(e,t){return e.concat([t,t+"-"+je,t+"-"+Q])},[]),Nt="beforeRead",$t="read",qt="afterRead",Ht="beforeMain",Wt="main",_t="afterMain",Vt="beforeWrite",Ft="write",Ut="afterWrite",se=[Nt,$t,qt,Ht,Wt,_t,Vt,Ft,Ut];function zt(e){var t=new Map,n=new Set,o=[];e.forEach(function(a){t.set(a.name,a)});function r(a){n.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(i){if(!n.has(i)){var s=t.get(i);s&&r(s)}}),o.push(a)}return e.forEach(function(a){n.has(a.name)||r(a)}),o}function Yt(e){var t=zt(e);return se.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function Xt(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return[].concat(n).reduce(function(r,a){return r.replace(/%s/,a)},e)}var I='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Kt='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',we=["name","enabled","phase","fn","effect","requires","options"];function Gt(e){e.forEach(function(t){[].concat(Object.keys(t),we).filter(function(n,o,r){return r.indexOf(n)===o}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(T(I,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(T(I,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":se.indexOf(t.phase)<0&&console.error(T(I,t.name,'"phase"',"either "+se.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(T(I,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(T(I,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(T(I,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(T(I,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+we.map(function(o){return'"'+o+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(o){e.find(function(r){return r.name===o})==null&&console.error(T(Kt,String(t.name),o,o))})})})}function Jt(e,t){var n=new Set;return e.filter(function(o){var r=t(o);if(!n.has(r))return n.add(r),!0})}function oe(e){return e.split("-")[0]}function Qt(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function Ne(e){return e.split("-")[1]}function Zt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function en(e){var t=e.reference,n=e.element,o=e.placement,r=o?oe(o):null,a=o?Ne(o):null,l=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,s;switch(r){case q:s={x:l,y:t.y-n.height};break;case J:s={x:l,y:t.y+t.height};break;case U:s={x:t.x+t.width,y:i};break;case N:s={x:t.x-n.width,y:i};break;default:s={x:t.x,y:t.y}}var d=r?Zt(r):null;if(d!=null){var c=d==="y"?"height":"width";switch(a){case je:s[d]=s[d]-(t[c]/2-n[c]/2);break;case Q:s[d]=s[d]+(t[c]/2-n[c]/2);break}}return s}var ye="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",tn="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",be={placement:"bottom",modifiers:[],strategy:"absolute"};function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function nn(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,a=r===void 0?be:r;return function(i,s,d){d===void 0&&(d=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},be,a),modifiersData:{},elements:{reference:i,popper:s},attributes:{},styles:{}},m=[],x=!1,h={state:c,setOptions:function(u){var f=typeof u=="function"?u(c.options):u;O(),c.options=Object.assign({},a,c.options,f),c.scrollParents={reference:le(i)?X(i):i.contextElement?X(i.contextElement):[],popper:X(s)};var p=Yt(Qt([].concat(o,c.options.modifiers)));c.orderedModifiers=p.filter(function(E){return E.enabled});{var y=Jt([].concat(p,c.options.modifiers),function(E){var $=E.name;return $});if(Gt(y),oe(c.options.placement)===Me){var g=c.orderedModifiers.find(function(E){var $=E.name;return $==="flip"});g||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var v=P(s),k=v.marginTop,L=v.marginRight,W=v.marginBottom,_=v.marginLeft;[k,L,W,_].some(function(E){return parseFloat(E)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return D(),h.update()},forceUpdate:function(){if(!x){var u=c.elements,f=u.reference,p=u.popper;if(!Oe(f,p)){console.error(ye);return}c.rects={reference:Tt(f,Ie(p),c.options.strategy==="fixed"),popper:At(p)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(E){return c.modifiersData[E.name]=Object.assign({},E.data)});for(var y=0,g=0;g<c.orderedModifiers.length;g++){if(y+=1,y>100){console.error(tn);break}if(c.reset===!0){c.reset=!1,g=-1;continue}var v=c.orderedModifiers[g],k=v.fn,L=v.options,W=L===void 0?{}:L,_=v.name;typeof k=="function"&&(c=k({state:c,options:W,name:_,instance:h})||c)}}},update:Xt(function(){return new Promise(function(b){h.forceUpdate(),b(c)})}),destroy:function(){O(),x=!0}};if(!Oe(i,s))return console.error(ye),h;h.setOptions(d).then(function(b){!x&&d.onFirstUpdate&&d.onFirstUpdate(b)});function D(){c.orderedModifiers.forEach(function(b){var u=b.name,f=b.options,p=f===void 0?{}:f,y=b.effect;if(typeof y=="function"){var g=y({state:c,name:u,instance:h,options:p}),v=function(){};m.push(g||v)}})}function O(){m.forEach(function(b){return b()}),m=[]}return h}}var Y={passive:!0};function on(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,a=r===void 0?!0:r,l=o.resize,i=l===void 0?!0:l,s=C(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach(function(c){c.addEventListener("scroll",n.update,Y)}),i&&s.addEventListener("resize",n.update,Y),function(){a&&d.forEach(function(c){c.removeEventListener("scroll",n.update,Y)}),i&&s.removeEventListener("resize",n.update,Y)}}var rn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:on,data:{}};function an(e){var t=e.state,n=e.name;t.modifiersData[n]=en({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var sn={name:"popperOffsets",enabled:!0,phase:"read",fn:an,data:{}},cn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ln(e){var t=e.x,n=e.y,o=window,r=o.devicePixelRatio||1;return{x:H(t*r)/r||0,y:H(n*r)/r||0}}function xe(e){var t,n=e.popper,o=e.popperRect,r=e.placement,a=e.variation,l=e.offsets,i=e.position,s=e.gpuAcceleration,d=e.adaptive,c=e.roundOffsets,m=e.isFixed,x=l.x,h=x===void 0?0:x,D=l.y,O=D===void 0?0:D,b=typeof c=="function"?c({x:h,y:O}):{x:h,y:O};h=b.x,O=b.y;var u=l.hasOwnProperty("x"),f=l.hasOwnProperty("y"),p=N,y=q,g=window;if(d){var v=Ie(n),k="clientHeight",L="clientWidth";if(v===C(n)&&(v=ne(n),P(v).position!=="static"&&i==="absolute"&&(k="scrollHeight",L="scrollWidth")),v=v,r===q||(r===N||r===U)&&a===Q){y=J;var W=m&&v===g&&g.visualViewport?g.visualViewport.height:v[k];O-=W-o.height,O*=s?1:-1}if(r===N||(r===q||r===J)&&a===Q){p=U;var _=m&&v===g&&g.visualViewport?g.visualViewport.width:v[L];h-=_-o.width,h*=s?1:-1}}var E=Object.assign({position:i},d&&cn),$=c===!0?ln({x:h,y:O}):{x:h,y:O};if(h=$.x,O=$.y,s){var V;return Object.assign({},E,(V={},V[y]=f?"0":"",V[p]=u?"0":"",V.transform=(g.devicePixelRatio||1)<=1?"translate("+h+"px, "+O+"px)":"translate3d("+h+"px, "+O+"px, 0)",V))}return Object.assign({},E,(t={},t[y]=f?O+"px":"",t[p]=u?h+"px":"",t.transform="",t))}function fn(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,a=n.adaptive,l=a===void 0?!0:a,i=n.roundOffsets,s=i===void 0?!0:i;{var d=P(t.elements.popper).transitionProperty||"";l&&["transform","top","right","bottom","left"].some(function(m){return d.indexOf(m)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var c={placement:oe(t.placement),variation:Ne(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,xe(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,xe(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var un={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn,data:{}};function dn(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},a=t.elements[n];!B(a)||!R(a)||(Object.assign(a.style,o),Object.keys(r).forEach(function(l){var i=r[l];i===!1?a.removeAttribute(l):a.setAttribute(l,i===!0?"":i)}))})}function pn(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],a=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),i=l.reduce(function(s,d){return s[d]="",s},{});!B(r)||!R(r)||(Object.assign(r.style,i),Object.keys(a).forEach(function(s){r.removeAttribute(s)}))})}}var vn={name:"applyStyles",enabled:!0,phase:"write",fn:dn,effect:pn,requires:["computeStyles"]},mn=[rn,sn,un,vn],hn=nn({defaultModifiers:mn});function gn(e,t,n){var o=oe(e),r=[N,q].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=a[0],i=a[1];return l=l||0,i=(i||0)*r,[N,U].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function wn(e){var t=e.state,n=e.options,o=e.name,r=n.offset,a=r===void 0?[0,0]:r,l=jt.reduce(function(c,m){return c[m]=gn(m,t.rects,a),c},{}),i=l[t.placement],s=i.x,d=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=l}var yn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wn};const[bn,M]=Z("popover"),On=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],xn={show:Boolean,theme:F("light"),overlay:Boolean,actions:tt(),actionsDirection:F("vertical"),trigger:F("click"),duration:Se,showArrow:A,placement:F("bottom"),iconPrefix:String,overlayClass:Be,overlayStyle:Object,closeOnClickAction:A,closeOnClickOverlay:A,closeOnClickOutside:A,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var En=ee({name:bn,props:xn,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:o}){let r;const a=j(),l=j(),i=j(),s=Ot(()=>e.show,f=>t("update:show",f)),d=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},ce({},yn,{options:{offset:e.offset}})]}),c=()=>l.value&&i.value?hn(l.value,i.value.popupRef.value,d()):null,m=()=>{re(()=>{s.value&&(r?r.setOptions(d()):(r=c(),ve&&(window.addEventListener("animationend",m),window.addEventListener("transitionend",m))))})},x=f=>{s.value=f},h=()=>{e.trigger==="click"&&(s.value=!s.value)},D=(f,p)=>{f.disabled||(t("select",f,p),e.closeOnClickAction&&(s.value=!1))},O=()=>{s.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(s.value=!1)},b=(f,p)=>n.action?n.action({action:f,index:p}):[f.icon&&w(ot,{name:f.icon,classPrefix:e.iconPrefix,class:M("action-icon")},null),w("div",{class:[M("action-text"),{[rt]:e.actionsDirection==="vertical"}]},[f.text])],u=(f,p)=>{const{icon:y,color:g,disabled:v,className:k}=f;return w("div",{role:"menuitem",class:[M("action",{disabled:v,"with-icon":y}),{[nt]:e.actionsDirection==="horizontal"},k],style:{color:g},tabindex:v?void 0:0,"aria-disabled":v||void 0,onClick:()=>D(f,p)},[b(f,p)])};return Ee(()=>{m(),Je(()=>{var f;a.value=(f=i.value)==null?void 0:f.popupRef.value})}),Qe(()=>{r&&(ve&&(window.removeEventListener("animationend",m),window.removeEventListener("transitionend",m)),r.destroy(),r=null)}),K(()=>[s.value,e.offset,e.placement],m),Ze([l,a],O,{eventName:"touchstart"}),()=>{var f;return w(et,null,[w("span",{ref:l,class:M("wrapper"),onClick:h},[(f=n.reference)==null?void 0:f.call(n)]),w(Re,Ce({ref:i,show:s.value,class:M([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":x},o,ft(),ke(e,On)),{default:()=>[e.showArrow&&w("div",{class:M("arrow")},null),w("div",{role:"menu",class:M("content",e.actionsDirection)},[n.default?n.default():e.actions.map(u)])]})])}}});const kn=te(En),Rn=async()=>{const e=localStorage.getItem("token");e?ut.validateToken(e).then(t=>{t.valid!==1?window.location.href="/login.html":localStorage.setItem("nickname",t.nickname)}):window.location.href="/login.html"};export{Cn as D,kn as P,Bt as s,pt as u,Rn as v};
